{"version":3,"sources":["retina.js","script.js"],"names":["Retina","suffixReplace","match","config","retinaImageSuffix","RetinaImagePath","path","at_2x_path","this","perform_check","undefined","document","createElement","locationObject","href","pathname","replace","regexMatch","parts","split","join","RetinaImage","el","getAttribute","that","check_2x_variant","hasVariant","swap","root","exports","window","check_mime_type","force_original_dimensions","configure","options","prop","hasOwnProperty","init","context","existing_onload","onload","i","image","images","getElementsByTagName","retinaImages","length","getAttributeNode","push","isRetina","mediaQuery","devicePixelRatio","matchMedia","matches","confirmed_paths","prototype","is_external","domain","callback","http","XMLHttpRequest","open","onreadystatechange","readyState","status","type","getResponseHeader","send","load","complete","setAttribute","offsetWidth","offsetHeight","setTimeout","jQuery","ready","$","on","e","preventDefault","toggleClass","navitem","hasClass","next","removeClass","slideUp","addClass","slideDown","scrollingoffset","location","hash","animate","scrollTop","offset","top","click","hostname","target","slice"],"mappings":"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","file":"script.min.js","sourcesContent":["/*!\n * Retina.js v1.3.0\n *\n * Copyright 2014 Imulus, LLC\n * Released under the MIT license\n *\n * Retina.js is an open source script that makes it easy to serve\n * high-resolution images to devices with retina displays.\n */\n\n(function() {\n    var root = (typeof exports === 'undefined' ? window : exports);\n    var config = {\n        // An option to choose a suffix for 2x images\n        retinaImageSuffix : '@2x',\n\n        // Ensure Content-Type is an image before trying to load @2x image\n        // https://github.com/imulus/retinajs/pull/45)\n        check_mime_type: true,\n\n        // Resize high-resolution images to original image's pixel dimensions\n        // https://github.com/imulus/retinajs/issues/8\n        force_original_dimensions: true\n    };\n\n    function Retina() {}\n\n    root.Retina = Retina;\n\n    Retina.configure = function(options) {\n        if (options === null) {\n            options = {};\n        }\n\n        for (var prop in options) {\n            if (options.hasOwnProperty(prop)) {\n                config[prop] = options[prop];\n            }\n        }\n    };\n\n    Retina.init = function(context) {\n        if (context === null) {\n            context = root;\n        }\n\n        var existing_onload = context.onload || function(){};\n\n        context.onload = function() {\n            var images = document.getElementsByTagName('img'), retinaImages = [], i, image;\n            for (i = 0; i < images.length; i += 1) {\n                image = images[i];\n                if (!!!image.getAttributeNode('data-no-retina')) {\n                    retinaImages.push(new RetinaImage(image));\n                }\n            }\n            existing_onload();\n        };\n    };\n\n    Retina.isRetina = function(){\n        var mediaQuery = '(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)';\n\n        if (root.devicePixelRatio > 1) {\n            return true;\n        }\n\n        if (root.matchMedia && root.matchMedia(mediaQuery).matches) {\n            return true;\n        }\n\n        return false;\n    };\n\n\n    var regexMatch = /\\.\\w+$/;\n    function suffixReplace (match) {\n        return config.retinaImageSuffix + match;\n    }\n\n    function RetinaImagePath(path, at_2x_path) {\n        this.path = path || '';\n        if (typeof at_2x_path !== 'undefined' && at_2x_path !== null) {\n            this.at_2x_path = at_2x_path;\n            this.perform_check = false;\n        } else {\n            if (undefined !== document.createElement) {\n                var locationObject = document.createElement('a');\n                locationObject.href = this.path;\n                locationObject.pathname = locationObject.pathname.replace(regexMatch, suffixReplace);\n                this.at_2x_path = locationObject.href;\n            } else {\n                var parts = this.path.split('?');\n                parts[0] = parts[0].replace(regexMatch, suffixReplace);\n                this.at_2x_path = parts.join('?');\n            }\n            this.perform_check = true;\n        }\n    }\n\n    root.RetinaImagePath = RetinaImagePath;\n\n    RetinaImagePath.confirmed_paths = [];\n\n    RetinaImagePath.prototype.is_external = function() {\n        return !!(this.path.match(/^https?\\:/i) && !this.path.match('//' + document.domain) );\n    };\n\n    RetinaImagePath.prototype.check_2x_variant = function(callback) {\n        var http, that = this;\n        if (this.is_external()) {\n            return callback(false);\n        } else if (!this.perform_check && typeof this.at_2x_path !== 'undefined' && this.at_2x_path !== null) {\n            return callback(true);\n        } else if (this.at_2x_path in RetinaImagePath.confirmed_paths) {\n            return callback(true);\n        } else {\n            http = new XMLHttpRequest();\n            http.open('HEAD', this.at_2x_path);\n            http.onreadystatechange = function() {\n                if (http.readyState !== 4) {\n                    return callback(false);\n                }\n\n                if (http.status >= 200 && http.status <= 399) {\n                    if (config.check_mime_type) {\n                        var type = http.getResponseHeader('Content-Type');\n                        if (type === null || !type.match(/^image/i)) {\n                            return callback(false);\n                        }\n                    }\n\n                    RetinaImagePath.confirmed_paths.push(that.at_2x_path);\n                    return callback(true);\n                } else {\n                    return callback(false);\n                }\n            };\n            http.send();\n        }\n    };\n\n\n    function RetinaImage(el) {\n        this.el = el;\n        this.path = new RetinaImagePath(this.el.getAttribute('src'), this.el.getAttribute('data-at2x'));\n        var that = this;\n        this.path.check_2x_variant(function(hasVariant) {\n            if (hasVariant) {\n                that.swap();\n            }\n        });\n    }\n\n    root.RetinaImage = RetinaImage;\n\n    RetinaImage.prototype.swap = function(path) {\n        if (typeof path === 'undefined') {\n            path = this.path.at_2x_path;\n        }\n\n        var that = this;\n        function load() {\n            if (! that.el.complete) {\n                setTimeout(load, 5);\n            } else {\n                if (config.force_original_dimensions) {\n                    that.el.setAttribute('width', that.el.offsetWidth);\n                    that.el.setAttribute('height', that.el.offsetHeight);\n                }\n\n                that.el.setAttribute('src', path);\n            }\n        }\n        load();\n    };\n\n\n    if (Retina.isRetina()) {\n        Retina.init(root);\n    }\n})();\n","jQuery(window).ready(function($) {\n\n\t// SVG to PNG for IE8 and below\n/*\tvar ua = window.navigator.userAgent;\n\tvar msie = ua.indexOf(\"MSIE \");\n\n\tif(msie > 0) {\n\t\t$('img[src*=\"svg\"]').attr('src', function() {\n\t\t\treturn $(this).attr('src').replace('.svg', '.png');\n\t\t});\n\t}*/\n\n\t// Nav menu\n\t$('.nav-toggle').on('click', function(e) {\n\t\te.preventDefault();\n\t\t$('.page-header').toggleClass('menu-visible');\n\t});\n\n\t$('.menu-item.menu-item-has-children a').on('touchstart', function(e) {\n\t\tvar navitem = $(this);\n\n\t\t// Check if item has a sub menu but isn't selected don't do anything but open the menu\n\t\tif (!navitem.hasClass('selected') && navitem.next().length) {\n\t\t\t// Don't navigate\n\t\t\te.preventDefault();\n\n\t\t\t// Close other menus\n\t\t\t$('.menu-item.menu-item-has-children a.selected').removeClass('selected').next().slideUp();\n\n\t\t\t// open submenu\n\t\t\tnavitem.addClass('selected').next().slideDown();\n\t\t}\n\t});\n\n\t// Smooth scrolling.\n\tvar scrollingoffset = 200;\n\tif (window.location.hash.length) {\n\t\t$(\"html, body\").animate({scrollTop:$(window.location.hash).offset().top - scrollingoffset}, 1000);\n\t}\n\t$('a[href*=#]:not([href=#])').click(function() {\n\t\tif (location.pathname.replace(/^\\//,'') == this.pathname.replace(/^\\//,'') && location.hostname == this.hostname) {\n\t\t\tvar target = $(this.hash);\n\t\t\ttarget = target.length ? target : $('[name=' + this.hash.slice(1) +']');\n\t\t\tif (target.length) {\n\t\t\t\t$('html,body').animate({\n\t\t\t\t\tscrollTop: target.offset().top - scrollingoffset\n\t\t\t\t}, 1000);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t});\n\n});\n"],"sourceRoot":"/source/"}